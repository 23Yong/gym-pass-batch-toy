# 이용권 서비스

## 요구사항

### 이용권
- 사용자는 N개의 이용권을 가질 수 있다.
- 이용권은 횟수가 모두 소진되거나 이용기간이 지나면 만료된다.
- 이용권 만료 전 사용자에게 알림을 준다.
- 업체에서 원하는 시간을 설정하여 일괄로 사용자에게 이용권을 지급해 줄 수 있다.

### 수업 (PT - Personal Training)
- 예약된 수업 10분 전 출석 안내 알람을 보내준다.
- 수업 종료 시간 시점, 수업을 예약한 사용자의 이용권 횟수를 일괄로 차감한다. (-1)

### 통계
- 사용자의 수업 예약, 출석, 이용권 횟수 등의 데이터로 유의미한 통계 데이터를 만든다.


## Features

### Batch
- 이용권 만료
- 이용권 일괄 지급
- 수업 전 알림
- 수업 후 이용권 차감
- 통계 데이터 구축

### View
- 사용자 이용권 조회 페이지
- 관리자 이용권 등록 페이지
- 관리자 통계 조회 페이지

### API
- 사용자 이용권 조회 API
- 관리자 이용권 등록 API
- 관리자 통계 조회 API

## 데이터 설계 - N개의 체육관을 가정

### 패키지
프로그램 정도로 생각 (ex. 헬스 이용권, PT 이용권, 필라테스 이용권 등)

- 패키지 ID (package_id)
- 체육관 ID (gym_id)
- 패키지 이름 (package_name)
- 기간 (period)
- 횟수 (count)

### 이용권
사용자가 실제로 지급받은 이용권. 즉, 사용자별 이용권

- 이용권 순번 (pass_seq)
- 체육관 ID (gym_id)
- 사용자 ID (user_id)
- 패키지 ID (pass_template_id)
- 잔여횟수 (remaining_count)
- 시작일시 (started_at)
- 종료일시 (ended_at) 

### 예약
- 예약 순번 (booking_seq)
- 체육관 ID (gym_id)
- 사용자 ID (user_id)
- 이용권 순번 (pass_seq)
- 시작 일시 (started_at)
- 종료 일시 (ended_at)
- 이용권 차감 여부 (used_pass)

### 사용자
- 사용자 ID (user_id)
- 이름 (name)
- 휴대폰 번호 (phone)
- 상태 (status)

### 체육관
- 체육관 ID (gym_id)
- 이름 (name)

